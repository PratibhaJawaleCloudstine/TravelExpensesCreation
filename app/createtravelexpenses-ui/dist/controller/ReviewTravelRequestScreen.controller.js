sap.ui.define(["sap/ui/core/mvc/Controller"],e=>{"use strict";return e.extend("createtravelexpenses.createtravelexpensesui.controller.ReviewTravelRequestScreen",{onInit(){this.getOwnerComponent().getRouter().getRoute("RouteReviewTravelRequestScreen").attachPatternMatched(this._onRouteMatched,this)},_onRouteMatched:function(e){const t={name:"Pratibha Jawale",id:"EMP001"};const o=new sap.ui.model.json.JSONModel(t);this.getOwnerComponent().setModel(o,"employeeModel");const s=this.getOwnerComponent().getModel();const n=s.bindList("/TravelRequests");n.requestContexts().then(e=>{const t=e.map(e=>e.getObject());console.log("All TravelRequests:",t);const o=new sap.ui.model.json.JSONModel({travelRequests:t});this.getOwnerComponent().setModel(o,"travelData")}).catch(e=>{console.error("Failed to fetch TravelRequests:",e);sap.m.MessageBox.error("Error fetching travel requests.")});try{const e=this.getOwnerComponent().getModel("expenseModel");e.setProperty("/expenses",[])}catch(e){}const r=this.getOwnerComponent().getModel();const a=r.bindContext("/whoAmI(...)");a.execute().then(()=>{const e=a.getBoundContext();const t=e.getObject();console.log("User Info:",t);sap.m.MessageToast.show("Hello "+t.givenName)}).catch(e=>{console.error("Error fetching user:",e)})},onForwardArrowPress:function(e){const t=e.getSource().getBindingContext("travelData");const o=t.getObject();if(o.Approvedstatus=="approved"){this.travelId=o.ID;this.getOwnerComponent().getRouter().navTo("CreateTravelExpenseScreen",{travelId:this.travelId})}else if(o.Approvedstatus=="rejected"){sap.m.MessageToast.show("You cannot add expenses to rejected travel request.")}else{sap.m.MessageToast.show("This travel request is not reviewed yet to add travel expenses.")}}})});
//# sourceMappingURL=ReviewTravelRequestScreen.controller.js.map